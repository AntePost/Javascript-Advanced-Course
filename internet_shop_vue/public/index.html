<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Shop</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.min.js" defer></script>
    <script type="text/javascript" src="script.js" defer></script>
  </head>
  <body>
    <div id="app">
      <header>
        <nav class="nav">
          <ul class="menu">
            <li><a href="#">Main page</a></li>
            <li><a href="#">Catalog</a></li>
            <li><a href="#">Cart</a></li>
            <li><a href="#">Sign in</a></li>
            <li><a href="#">Sign up</a></li>
          </ul>
        </nav>
        <button class="cart-button" type="button" name="button" @click="cart = []">Empty cart</button>
        <search v-model="searchQuery"></search>
      </header>

      <main>
        <div class="featuredFlexContainer" v-if='responseCode === 200'>
          <div class="featuredFlexChild" v-for="item in filteredItems">
            <img :src="item.picSrc" alt="product">
            <div class="featuredProductHover">
              <button type="button" name="button" @click="handleBuyClick(item)">
                <span>Add to Cart</span>
              </button>
            </div>
            <div class="featuredProductText">
              <h3 class="featuredProductName">{{ item.name }}</h3>
              <h3 class="featuredProductPrice">{{ item.price }}</h3>
              <h6>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
              </h6>
            </div>
          </div>
        </div>
        <error v-if='responseCode !== 200' :response_code="responseCode" class="error"></error>
        <cart :cart="cart" :cart_total="cartTotal"></cart>
      </main>
    </div>
  </body>
</html>
